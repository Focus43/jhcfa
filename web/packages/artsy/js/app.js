!function(t,e){"use strict";e.module("artsy",["artsy.common","artsy.elements","ngSanitize"]).config(["$provide","$locationProvider",function(){}]).run(["FastClick",function(t){t.attach(document.body)}]),e.element(document).ready(function(){e.bootstrap(document,["artsy"])})}(window,window.angular),angular.module("artsy.common",[]),angular.module("artsy.elements",[]),angular.module("artsy.common").provider("Modernizr",function(){this.$get=["$window","$log",function(t,e){return t.Modernizr||(e.warn("Modernizr unavailable!"),!1)}]}).provider("Tween",function(){this.$get=["$window","$log",function(t,e){return t.TweenMax||t.TweenLite||(e.warn("Tween library unavailable!"),!1)}]}).provider("moment",function(){this.$get=["$window","$log",function(t,e){return t.moment||(e.warn("MomentJS library unavailable!"),!1)}]}).provider("Isotope",function(){this.$get=["$window","$log",function(t,e){return t.Isotope||(e.warn("Isotope unavailable!"),!1)}]}).provider("imagesLoaded",function(){this.$get=["$window","$log",function(t,e){return t.imagesLoaded||(e.warn("imagesLoaded unavailable!"),!1)}]}).provider("FastClick",function(){this.$get=["$window","$log",function(t,e){return t.FastClick||(e.warn("FastClick unavailable!"),!1)}]}).provider("SVG",function(){this.$get=["$window","$log",function(t,e){return t.SVG||(e.warn("SVG.js unavailable!"),!1)}]}),angular.module("artsy.common").directive("eventCalendar",["$http","moment",function(t,e){function n(t,n,o,r,a){var i=angular.element(n[0].querySelector(".event-list")),l=[],c=[];t.$watch("eventResults",function(n){if(n){for(var o;o=l.pop();)o.remove();for(var r;r=c.pop();)r.$destroy();n.forEach(function(n){var o=t.$new();o.eventObj=n,o.moment=e(n.computedStartLocal),a(o,function(t,e){i.append(t),l.push(t),c.push(e)})})}},!0)}return{scope:{_route:"=route"},link:n,transclude:!0,templateUrl:"/calendar-form",controller:["$scope",function(n){function o(){return t.get(n._route,{cache:!0,params:angular.extend({fields:r.join(",")},n.filters)})}var r=["eventID","pageID","calendarID","title","description","computedStartUTC","computedStartLocal"];n.eventResults=[],n.filters={keywords:null,calendars:null,tags:null,category:null,filepath:!0,pagepath:!0,grouping:!0,end:e().add(6,"months").format("YYYY-MM-DD"),attributes:"presenting_organization"},n.formHandler=function(){o().success(function(t){n.eventResults=t}).error(function(t){console.log(t)})},n.formHandler()}]}}]),angular.module("artsy.common").directive("isotope",["Isotope","imagesLoaded",function(t,e){function n(n,o,r){var a=o[0],i=a.querySelector("[isotope-grid]"),l=a.querySelectorAll(".isotope-node");e(i,function(){n.isotopeInstance=new t(i,{itemSelector:".isotope-node",layoutMode:r.isotope||"masonry",cellsByColumn:{columnWidth:".grid-sizer",columnHeight:".grid-sizer"}})}),angular.element(l).on("click",function(){angular.element(l).removeClass("active"),angular.element(this).addClass("active")})}return{restrict:"A",scope:!0,link:n}}]),angular.module("artsy.common").directive("nav",[function(){function t(t){t.toggle=function(){angular.element(document.body).toggleClass("nav-open")}}return{restrict:"E",link:t}}]),angular.module("artsy.common").directive("svgize",["SVG",function(t){function e(e,n){var o=t(n[0]),r=n[0].clientWidth,a=n[0].clientHeight,i=r/2,l=a/2,c=400,u=c/2,s=.7,d=o.group();d.svg(document.querySelector("svg[logo]").innerHTML),d.transform({scaleX:s,scaleY:s});var f=d.bbox(),m=r-f.width-15,g=15;d.transform({x:m,y:g}),d.attr("logo","lorem");var p=o.group().attr({"class":"tag-line"}),v=p.circle(c),y=p.text(function(t){t.tspan("we are a").fill("#fff").attr({dy:0,x:0}),t.tspan("hub").fill("#fff").attr({dy:130,x:-7}),t.tspan("for the artistic, cultural and").fill("#fff").attr({dy:40,x:0}),t.tspan("creative activity in jackson hole").fill("#fff").attr({dy:35,x:0})}).attr({"font-family":"inherit"});p.transform({x:i,y:l}),y.transform({x:-120,y:-90}),v.attr({cx:0,cy:0}).fill("rgba(208,7,121,0.7)");var h=d.node.querySelector("ellipse"),w=h.getBBox(),$=m+w.width*s/2,b=g+w.height*s/2,k=Math.atan2(l-b,i-$),x=i-(c+4)/2*Math.cos(k),S=l-(c+4)/2*Math.sin(k);o.line($,b,x,S).stroke({width:2,linecap:"round",dasharray:"1,5",color:"#fff"}).attr("class","spoke-line").back();var M=l+(u+4),C=l+(u+290);o.line(i,M,i,C).stroke({width:2,linecap:"round",dasharray:"1,5",color:"#fff"}).attr("class","down-line");var z=o.group().attr("class","scroll-navs");z.circle(20).attr("class","active").fill("rgba(255,255,255,0.25)"),z.circle(20).attr({cy:50}).fill("rgba(255,255,255,0.25)"),z.circle(20).attr({cy:90}).fill("rgba(255,255,255,0.25)"),z.transform({x:r-40,y:l-z.bbox().height/2})}return{link:e}}]);